(this["webpackJsonpe-commerce-admin-panel"]=this["webpackJsonpe-commerce-admin-panel"]||[]).push([[0],{28:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){},38:function(e,t,s){},41:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s.n(n),a=s(15),c=s.n(a),o=(s(35),s(6)),i=s(9),u=s(7),d=s(8),h=(s(36),s(37),s(38),s(49)),l=s(51),p=s(1),j=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).activeProducts=function(){n.setState({productsClass:"active",ordersClass:"",messagesClass:""})},n.activeMessages=function(){n.setState({productsClass:"",ordersClass:"",messagesClass:"active"})},n.activeOrders=function(){n.setState({productsClass:"",ordersClass:"active",messagesClass:""})},n.state={productsClass:"active",ordersClass:"",messagesClass:""},n}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(p.jsxs)(h.a,{expand:"lg",bg:"dark",variant:"dark",fixed:"top",children:[Object(p.jsx)(h.a.Brand,{children:"adminPanel"}),Object(p.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsxs)(h.a.Collapse,{id:"basic-navbar-nav",children:[Object(p.jsxs)(l.a,{className:"mr-auto",children:[Object(p.jsx)(l.a.Link,{onClick:function(){e.props.onRouteChange("products"),e.activeProducts()},className:this.state.productsClass,children:"Products"}),Object(p.jsx)(l.a.Link,{onClick:function(){e.props.onRouteChange("orders"),e.activeOrders()},className:this.state.ordersClass,children:"Orders"}),Object(p.jsx)(l.a.Link,{onClick:function(){e.props.onRouteChange("messages"),e.activeMessages()},className:this.state.messagesClass,children:"Messages"})]}),Object(p.jsx)(l.a,{className:"mr",children:Object(p.jsx)(l.a.Link,{onClick:this.props.signOut,children:"Logout"})})]})]})}}]),s}(r.a.Component),b=(s(41),s(50)),O=s(48),m=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).onEnter=function(e){"Enter"===e.key&&n.onSubmit()},n.onUserNameChange=function(e){n.setState({userName:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.onSubmit=function(){n.state.password&&n.state.userName?fetch("https://cute-blue-tortoise-tutu.cyclic.app/users/adminLogin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n.state.userName,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){(String(e).includes("worng credentials")||String(e).includes("errorTypeError"))&&alert("Invalid user name or password"),e.userName&&(n.props.loadUser(e.userName),n.props.onRouteChange("products"))})):alert("Please fill in all the required fields.")},n.state={userName:"",password:""},n}return Object(i.a)(s,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"center_div",children:Object(p.jsxs)(b.a,{children:[Object(p.jsxs)(b.a.Group,{controlId:"formBasicUserName",children:[Object(p.jsx)(b.a.Label,{children:"User name "}),Object(p.jsx)(b.a.Control,{type:"text",placeholder:"Enter user name",onChange:this.onUserNameChange,onKeyPress:this.onEnter})]}),Object(p.jsxs)(b.a.Group,{controlId:"formBasicPassword",children:[Object(p.jsx)(b.a.Label,{children:"Password"}),Object(p.jsx)(b.a.Control,{type:"password",placeholder:"Password",onChange:this.onPasswordChange,onKeyPress:this.onEnter})]}),Object(p.jsx)(O.a,{variant:"primary",type:"button",onClick:this.onSubmit,children:"Login"})]})})}}]),s}(r.a.Component),f=(s(44),s(52)),g=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).cancelOrder=function(){fetch("https://cute-blue-tortoise-tutu.cyclic.app/orders/orderstatus",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e.props.date,email:e.props.email,status:"Canceled"})}).then((function(e){return e.json()})).then((function(t){e.props.refreshOrders()}))},e.shipOrder=function(){fetch("https://cute-blue-tortoise-tutu.cyclic.app/orders/orderstatus",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e.props.date,email:e.props.email,status:"Shipped"})}).then((function(e){return e.json()})).then((function(t){e.props.refreshOrders()}))},e.completedOrder=function(){fetch("https://cute-blue-tortoise-tutu.cyclic.app/orders/orderstatus",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e.props.date,email:e.props.email,status:"Completed"})}).then((function(e){return e.json()})).then((function(t){e.props.refreshOrders()}))},e}return Object(i.a)(s,[{key:"render",value:function(){var e=new Date(this.props.date);return Object(p.jsxs)("div",{children:[Object(p.jsxs)(f.a,{children:[Object(p.jsxs)(f.a.Header,{children:[Object(p.jsx)("strong",{children:"Order placed: "})," ",e.toUTCString()]}),Object(p.jsxs)(f.a.Body,{children:[Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Username:"})," ",this.props.username]}),Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Email:"})," ",this.props.email]}),Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Products:"})," ",this.props.products]}),Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Price:"})," \u20b9 ",this.props.price]}),Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Address:"})," ",this.props.address]}),Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Status:"})," ",this.props.status]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(O.a,{variant:"primary",size:"sm",onClick:this.cancelOrder,style:{margin:"1em"},children:"Cancel"}),Object(p.jsx)(O.a,{variant:"primary",size:"sm",onClick:this.shipOrder,style:{margin:"1em"},children:"Ship"}),Object(p.jsx)(O.a,{variant:"primary",size:"sm",onClick:this.completedOrder,style:{margin:"1em"},children:"Complete"})]})]})]}),Object(p.jsx)("br",{})]})}}]),s}(r.a.Component),x=g,v=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).refresh=function(){fetch("https://cute-blue-tortoise-tutu.cyclic.app/orders/orders").then((function(e){return e.json()})).then((function(t){t.sort((function(e,t){return e.date<t.date?1:t.date<e.date?-1:0})),e.setState({ordersObj:t})}))},e.state={ordersObj:""},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cute-blue-tortoise-tutu.cyclic.app/orders/orders").then((function(e){return e.json()})).then((function(t){t.sort((function(e,t){return e.date<t.date?1:t.date<e.date?-1:0})),e.setState({ordersObj:t})}))}},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"centerO",children:Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:this.state.ordersObj?this.state.ordersObj.map((function(t){return Object(p.jsx)(x,{date:t.date,products:t.productnames,price:t.price,address:t.address,status:t.status,refreshOrders:e.refresh,email:t.email,username:t.username},t.date)})):Object(p.jsx)("div",{})})})})}}]),s}(r.a.Component),C=(s(28),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).deleteProduct=function(){window.confirm("You sure.?")&&fetch("https://cute-blue-tortoise-tutu.cyclic.app/products/deleteproduct",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({productname:e.props.productname})}).then((function(e){return e.json()})).then((function(t){"Done"===t&&e.props.refresh()}))},e}return Object(i.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)(f.a,{style:{width:"18rem"},children:[Object(p.jsx)(f.a.Img,{variant:"top",src:"https://cute-blue-tortoise-tutu.cyclic.app/"+this.props.image,className:"imgs"}),Object(p.jsxs)(f.a.Body,{children:[Object(p.jsx)(f.a.Title,{children:this.props.productname}),Object(p.jsx)(f.a.Text,{style:{fontSize:"13px"},children:this.props.description}),Object(p.jsxs)(f.a.Text,{children:["\u20b9 ",this.props.price,Object(p.jsx)(O.a,{className:"float-right",variant:"primary",onClick:this.deleteProduct,children:"Delete"})]})]})]}),Object(p.jsx)("br",{})]})}}]),s}(r.a.Component)),y=C,S=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).refresh=function(){fetch("https://cute-blue-tortoise-tutu.cyclic.app/products/getproducts").then((function(e){return e.json()})).then((function(e){return n.setState({products:e})}))},n.addProducts=function(){n.props.onRouteChange("addproducts")},n.state={products:[]},n}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cute-blue-tortoise-tutu.cyclic.app/products/getproducts").then((function(e){return e.json()})).then((function(t){return e.setState({products:t})}))}},{key:"componentWillUnmount",value:function(){this.setState({products:[]})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(O.a,{className:"addButton float-right",variant:"primary",onClick:this.addProducts,children:"Add product"})}),Object(p.jsx)("div",{className:"center_divP",children:Object(p.jsx)("div",{className:"grid-wrapper",children:this.state.products.map((function(t){return Object(p.jsx)(y,{productname:t.productname,description:t.description,price:t.price,image:t.image,refresh:e.refresh},t.productname)}))})})]})}}]),s}(r.a.Component),k=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).onProductChange=function(e){n.setState({productname:e.target.value})},n.onPriceChange=function(e){n.setState({price:e.target.value})},n.onDescriptionChange=function(e){n.setState({description:e.target.value})},n.onTypeChange=function(e){n.setState({type:e.target.value})},n.onImageChange=function(e){n.setState({image:e.target.files[0]})},n.onSubmit=function(){if(n.state.productname&&n.state.price&&n.state.type&&n.state.description&&n.state.image){var e=new FormData;e.append("productname",n.state.productname),e.append("price",n.state.price),e.append("description",n.state.description),e.append("type",n.state.type),e.append("image",n.state.image),fetch("https://cute-blue-tortoise-tutu.cyclic.app/products/addproduct",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){e.productname&&n.props.onRouteChange("products")})).catch((function(e){return alert("".concat(e))}))}else alert("Please fill in all the required fields.")},n.state={productname:"",price:"",description:"",type:"phone",image:""},n}return Object(i.a)(s,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"centerForm",children:Object(p.jsxs)(b.a,{children:[Object(p.jsxs)(b.a.Group,{children:[Object(p.jsx)(b.a.Label,{children:"Product name"}),Object(p.jsx)(b.a.Control,{type:"text",onChange:this.onProductChange})]}),Object(p.jsxs)(b.a.Group,{children:[Object(p.jsx)(b.a.Label,{children:"Description"}),Object(p.jsx)(b.a.Control,{type:"text",onChange:this.onDescriptionChange})]}),Object(p.jsxs)(b.a.Group,{children:[Object(p.jsx)(b.a.Label,{children:"Price"}),Object(p.jsx)(b.a.Control,{type:"text",onChange:this.onPriceChange})]}),Object(p.jsxs)(b.a.Group,{children:[Object(p.jsx)(b.a.Label,{children:"Category"}),Object(p.jsxs)(b.a.Control,{as:"select",onChange:this.onTypeChange,children:[Object(p.jsx)("option",{children:"phone"}),Object(p.jsx)("option",{children:"headphone"}),Object(p.jsx)("option",{children:"laptop"}),Object(p.jsx)("option",{children:"tablet"})]})]}),Object(p.jsx)(b.a.Group,{children:Object(p.jsx)(b.a.File,{label:"Image",onChange:this.onImageChange})}),Object(p.jsx)(O.a,{variant:"primary",type:"button",onClick:this.onSubmit,children:"Add"})]})})}}]),s}(r.a.Component),N=(s(45),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).done=function(){fetch("https://cute-blue-tortoise-tutu.cyclic.app/contacts/messagestatus",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e.props.date,email:e.props.email,status:"Solved"})}).then((function(e){return e.json()})).then((function(t){e.props.refresh()}))},e}return Object(i.a)(s,[{key:"render",value:function(){var e=new Date(this.props.date);return Object(p.jsxs)("div",{children:[Object(p.jsxs)(f.a,{children:[Object(p.jsxs)(f.a.Header,{children:[Object(p.jsx)("strong",{children:"Date: "})," ",e.toUTCString()]}),Object(p.jsxs)(f.a.Body,{children:[Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Name:"})," ",this.props.name]}),Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Email:"})," ",this.props.email]}),Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Message:"})," ",this.props.message]}),Object(p.jsxs)(f.a.Text,{children:[Object(p.jsx)("strong",{children:"Status:"})," ",this.props.status]}),Object(p.jsx)("div",{children:"Solved"===this.props.status?Object(p.jsx)("div",{}):Object(p.jsx)(O.a,{variant:"primary",size:"sm",onClick:this.done,children:"Done"})})]})]}),Object(p.jsx)("br",{})]})}}]),s}(r.a.Component)),P=N,T=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).refresh=function(){fetch("https://cute-blue-tortoise-tutu.cyclic.app/contacts/messages").then((function(e){return e.json()})).then((function(t){t.sort((function(e,t){return e.date<t.date?1:t.date<e.date?-1:0})),e.setState({msgObj:t})}))},e.state={msgObj:""},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cute-blue-tortoise-tutu.cyclic.app/contacts/messages").then((function(e){return e.json()})).then((function(t){t.sort((function(e,t){return e.date<t.date?1:t.date<e.date?-1:0})),e.setState({msgObj:t})}))}},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"centerM",children:Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:this.state.msgObj?this.state.msgObj.map((function(t){return Object(p.jsx)(P,{date:t.date,message:t.message,status:t.status,email:t.email,name:t.name,refresh:e.refresh},t.date)})):Object(p.jsx)("div",{})})})})}}]),s}(r.a.Component),w=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).loadUser=function(t){e.setState({user:t}),localStorage.setItem("admin",t)},e.signOut=function(){e.setState({user:"",route:"login"}),localStorage.removeItem("admin")},e.onRouteChange=function(t){e.setState({route:t})},e.state={user:localStorage.getItem("admin")||"",route:""},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.state.user?this.setState({route:"products"}):this.setState({route:"login"})}},{key:"render",value:function(){var e,t;return"login"===this.state.route?e=Object(p.jsx)(m,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}):"products"===this.state.route?(t=Object(p.jsx)(j,{onRouteChange:this.onRouteChange,signOut:this.signOut}),e=Object(p.jsx)(S,{onRouteChange:this.onRouteChange})):"orders"===this.state.route?(t=Object(p.jsx)(j,{onRouteChange:this.onRouteChange,signOut:this.signOut}),e=Object(p.jsx)(v,{})):"messages"===this.state.route?(t=Object(p.jsx)(j,{onRouteChange:this.onRouteChange,signOut:this.signOut}),e=Object(p.jsx)(T,{})):"addproducts"===this.state.route&&(t=Object(p.jsx)(j,{onRouteChange:this.onRouteChange,signOut:this.signOut}),e=Object(p.jsx)(k,{onRouteChange:this.onRouteChange})),Object(p.jsxs)("div",{className:"App",children:[t,e]})}}]),s}(n.Component),R=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,53)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),r(e),a(e),c(e)}))};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),R()}},[[46,1,2]]]);
//# sourceMappingURL=main.1cfe6f4d.chunk.js.map